@page "/settings/theme"

@layout SettingsLayout

<FluentStack HorizontalAlignment="HorizontalAlignment.SpaceBetween"
             VerticalAlignment="VerticalAlignment.Top"
             Orientation="Orientation.Horizontal">
    <FluentLabel Typo="Typography.PaneHeader">
        Theme Settings
    </FluentLabel>
    <FluentBreadcrumb>
        <FluentBreadcrumbItem Href="/">Home</FluentBreadcrumbItem>
        <FluentBreadcrumbItem Href="/settings">Settings</FluentBreadcrumbItem>
        <FluentBreadcrumbItem>Theme</FluentBreadcrumbItem>
    </FluentBreadcrumb>
</FluentStack>

<FluentStack HorizontalAlignment="HorizontalAlignment.SpaceBetween"
             VerticalAlignment="VerticalAlignment.Top"
             Orientation="Orientation.Vertical"
             Style="margin: 20px 0px; padding: 30px; border: 1px solid var(--accent-fill-rest);">
    <FluentStack HorizontalAlignment="HorizontalAlignment.Start"
                 VerticalAlignment="VerticalAlignment.Top"
                 Orientation="Orientation.Vertical">
        <FluentDesignTheme @bind-Mode="@Mode"
                           @bind-OfficeColor="@OfficeColor"
                           StorageName="otm-theme" />
        <FluentGrid>
            <FluentGridItem>
                <FluentSelect Label="Theme"
                              Width="250px"
                              Items="@(Enum.GetValues<DesignThemeModes>())"
                              @bind-SelectedOption="@Mode" />
                <FluentLabel>Selected the theme in 3 options</FluentLabel>
                <FluentLabel>System: follow the system theme</FluentLabel>
                <FluentLabel>Light: a light theme</FluentLabel>
                <FluentLabel>Dark: a dark theme</FluentLabel>
            </FluentGridItem>
            <FluentGridItem>
                <FluentDivider Orientation="Orientation.Vertical"
                               Role="DividerRole.Presentation" />
            </FluentGridItem>
            <FluentGridItem>
                <FluentSelect Label="Color"
                              Items="@(Enum.GetValues<OfficeColor>().Select(i => (OfficeColor?)i))"
                              Height="200px"
                              Width="250px"
                              @bind-SelectedOption="@OfficeColor">
                    <OptionTemplate>
                        <FluentStack>
                            <FluentIcon Value="@(new Icons.Filled.Size20.RectangleLandscape())"
                                        Color="Color.Custom"
                                        CustomColor="@(@context.ToAttributeValue() != "default" ? context.ToAttributeValue() : "#036ac4" )"/> 
                            <FluentLabel>@context</FluentLabel>
                        </FluentStack>
                    </OptionTemplate>
                </FluentSelect>
                <FluentLabel>Select the options of color from your preference</FluentLabel>
            </FluentGridItem>
            <FluentGridItem>
                <FluentDivider Orientation="Orientation.Vertical"
                               Role="DividerRole.Presentation" />
            </FluentGridItem>
            <FluentGridItem>
                <FluentLabel>Get random style</FluentLabel>
                <FluentButton Appearance="Appearance.Accent" OnClick="PickRandomColor">Feeling lucky?</FluentButton>
            </FluentGridItem>
        </FluentGrid>
    </FluentStack>
</FluentStack>


@code {
    public DesignThemeModes Mode { get; set; }

    public OfficeColor? OfficeColor { get; set; }

    void PickRandomColor()
    {
        OfficeColor = OfficeColorUtilities.GetRandom();
    }
}
