@page "/Clients/Index"

<PageTitle>Clients | Index</PageTitle>

<FluentSpacer Width="4" />

<FluentStack HorizontalAlignment="HorizontalAlignment.SpaceBetween"
             Orientation="Orientation.Horizontal">
    <FluentLabel Color="Color.Accent" Typo="Typography.PageTitle">Clients</FluentLabel>
    <FluentDivider />
    <FluentButton Name="Mode" Title="View Mode"/>
</FluentStack>

<FluentTabs Orientation="Orientation.Horizontal"
            ShowClose
            ShowActiveIndicator
            @bind-SelectedIndex="@SelectedIndex"
            OnTabClose="@HandleTabClose" >
    @if (OverseeItems is null)
    {
        <FluentLabel>Noting to see here</FluentLabel>
    }
    else
    {
        foreach (Item item in OverseeItems)
        {
            <FluentTab @key="item.Code"
                       Icon="@(new Icons.Regular.Size20.PersonInfo())"
                       Label="@item.Name">
                <OverseeMenuComponent>
                    <FluentLabel>@item.Code</FluentLabel>
                    <FluentLabel>@item.Name</FluentLabel>
                    <FluentLabel>@item.UnitCost</FluentLabel>
                </OverseeMenuComponent>
            </FluentTab>
        }
    }   
</FluentTabs>

@* <FluentTabs Orientation="Orientation.Horizontal"
            ShowClose
            ShowActiveIndicator
            @bind-SelectedIndex="@SelectedIndex"
            OnTabClose="@HandleTabClose">
    @if (OverseeItems is null)
    {
        <FluentLabel>Noting to see here</FluentLabel>
    }
    else
    {
        for (int i = 0; i < OverseeItems.Count; i++)
        {
            <FluentTab @key="OverseeItems[i].Code"
                       Icon="@(new Icons.Regular.Size20.PersonInfo())"
                       Label="@OverseeItems[i].Name">
                <OverseeMenuComponent>
                    <FluentLabel>@OverseeItems[i].Code</FluentLabel>
                    <FluentLabel>@OverseeItems[i].Name</FluentLabel>
                    <FluentLabel>@OverseeItems[i].UnitCost</FluentLabel>
                    <FluentButton OnClick="() => StopOverseeByIndex(i)">X</FluentButton>
                </OverseeMenuComponent>
            </FluentTab>
        }
    }
</FluentTabs> *@

<FluentSpacer Width="1" />
<FluentDivider />
<FluentSpacer Width="3" />

<FluentGrid Spacing="1">
    @if (Items is null)
    {
        <FluentGridItem sm="12">
            <ClientListViewComponent Content="There are no content here"
                               LastModification="DateTime.UtcNow"
                               Status="Empty"
                               Username="Anonymous" />
        </FluentGridItem>
    }
    else
    {
        foreach (Item item in Items)
        {

            <FluentGridItem sm="12">
                <ClientListViewComponent Content="@item.Name"
                                   LastModification="DateTime.UtcNow"
                                   Status="Empty"
                                   Username="Anonymous"
                                   OnOverseeEvent="@(() => OverseeClient(item))"/>
            </FluentGridItem>

        }
    }
</FluentGrid>
